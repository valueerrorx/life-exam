<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1116px" preserveAspectRatio="none" style="width:900px;height:1116px;" version="1.1" viewBox="0 0 900 1116" width="900px" zoomAndPan="magnify"><defs><filter height="300%" id="f3lv9j3abnlo2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f3lv9j3abnlo2)" height="44.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="840.5" y="542.5547"/><rect fill="#FFFFFF" filter="url(#f3lv9j3abnlo2)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="840.5" y="940.4141"/><rect fill="#FFFFFF" filter="url(#f3lv9j3abnlo2)" height="877.9844" style="stroke: #000000; stroke-width: 2.0;" width="876" x="13" y="180.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="75" x2="75" y1="38.2969" y2="1075.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="438.5" x2="438.5" y1="38.2969" y2="1075.8125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="845" x2="845" y1="38.2969" y2="1075.8125"/><rect fill="#FEFECE" filter="url(#f3lv9j3abnlo2)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="47" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="54" y="22.9951">Client</text><rect fill="#FEFECE" filter="url(#f3lv9j3abnlo2)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="47" y="1074.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="54" y="1094.8076">Client</text><rect fill="#FEFECE" filter="url(#f3lv9j3abnlo2)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="407.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="414.5" y="22.9951">Server</text><rect fill="#FEFECE" filter="url(#f3lv9j3abnlo2)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="407.5" y="1074.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="414.5" y="1094.8076">Server</text><rect fill="#FEFECE" filter="url(#f3lv9j3abnlo2)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="812" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="819" y="22.9951">Thread</text><rect fill="#FEFECE" filter="url(#f3lv9j3abnlo2)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="812" y="1074.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="819" y="1094.8076">Thread</text><rect fill="#FFFFFF" filter="url(#f3lv9j3abnlo2)" height="44.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="840.5" y="542.5547"/><rect fill="#FFFFFF" filter="url(#f3lv9j3abnlo2)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="840.5" y="940.4141"/><polygon fill="#A80036" points="426.5,65.4297,436.5,69.4297,426.5,73.4297,430.5,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="432.5" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="82.5" y="64.3638">Multicast Call</text><polygon fill="#A80036" points="86.5,107.1289,76.5,111.1289,86.5,115.1289,82.5,111.1289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="80.5" x2="437.5" y1="111.1289" y2="111.1289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="92.5" y="106.063">Multicast Response</text><path d="M443,82.4297 L443,122.4297 L593,122.4297 L593,92.4297 L583,82.4297 L443,82.4297 " fill="#FBFB77" filter="url(#f3lv9j3abnlo2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M583,82.4297 L583,92.4297 L593,92.4297 L583,82.4297 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="449" y="99.4966">Awaiting Connection</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="449" y="114.6294">from Client</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="117.5" y1="152.8281" y2="152.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="117.5" x2="117.5" y1="152.8281" y2="165.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="76.5" x2="117.5" y1="165.8281" y2="165.8281"/><polygon fill="#A80036" points="86.5,161.8281,76.5,165.8281,86.5,169.8281,82.5,165.8281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="237" x="82.5" y="147.7622">starts twisted daemon in background</text><path d="M13,180.8281 L421,180.8281 L421,187.8281 L411,197.8281 L13,197.8281 L13,180.8281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="877.9844" style="stroke: #000000; stroke-width: 2.0;" width="876" x="13" y="180.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="363" x="28" y="193.895">twisted daemon examclient_plugin runs on client</text><polygon fill="#A80036" points="426.5,235.2266,436.5,239.2266,426.5,243.2266,430.5,239.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="432.5" y1="239.2266" y2="239.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="82.5" y="234.1606">connectionMade(): AUTH</text><path d="M443,202.9609 L443,257.9609 L669,257.9609 L669,212.9609 L659,202.9609 L443,202.9609 " fill="#FBFB77" filter="url(#f3lv9j3abnlo2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M659,202.9609 L659,212.9609 L669,212.9609 L659,202.9609 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="449" y="220.0278">On every data received</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="449" y="235.1606">check AUTH from Client</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="449" y="250.2935">MyServerProtocol:lineReceived()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="438.5" x2="480.5" y1="303.625" y2="303.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="480.5" x2="480.5" y1="303.625" y2="316.625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="439.5" x2="480.5" y1="316.625" y2="316.625"/><polygon fill="#A80036" points="449.5,312.625,439.5,316.625,449.5,320.625,445.5,316.625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="393" x="445.5" y="283.4263">MyServerProtocol: rawDataReceived(DataType.SCREENSHOT)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="445.5" y="298.5591">ServerUI: createOrUpdateListItem()</text><path d="M393,329.625 L393,354.625 L480,354.625 L480,339.625 L470,329.625 L393,329.625 " fill="#FBFB77" filter="url(#f3lv9j3abnlo2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M470,329.625 L470,339.625 L480,339.625 L470,329.625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="399" y="346.6919">EXIT EXAM</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="438.5" x2="480.5" y1="384.8906" y2="384.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="480.5" x2="480.5" y1="384.8906" y2="397.8906"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="439.5" x2="480.5" y1="397.8906" y2="397.8906"/><polygon fill="#A80036" points="449.5,393.8906,439.5,397.8906,449.5,401.8906,445.5,397.8906" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="445.5" y="379.8247">ServerUI: _on_exit_exam(who)</text><polygon fill="#A80036" points="86.5,438.1563,76.5,442.1563,86.5,446.1563,82.5,442.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="80.5" x2="437.5" y1="442.1563" y2="442.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="92.5" y="421.9575">server2client: request_abgabe(who)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="92.5" y="437.0903">FILETRANSFER:SEND</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="117.5" y1="471.2891" y2="471.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="117.5" x2="117.5" y1="471.2891" y2="484.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="76.5" x2="117.5" y1="484.2891" y2="484.2891"/><polygon fill="#A80036" points="86.5,480.2891,76.5,484.2891,86.5,488.2891,82.5,484.2891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="82.5" y="466.2231">client2server: file_transfer_request(client)</text><polygon fill="#A80036" points="426.5,509.4219,436.5,513.4219,426.5,517.4219,430.5,513.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="432.5" y1="513.4219" y2="513.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="301" x="82.5" y="508.356">examclient_plugin: _sendFile(filename, filetype)</text><polygon fill="#A80036" points="828.5,538.5547,838.5,542.5547,828.5,546.5547,832.5,542.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438.5" x2="834.5" y1="542.5547" y2="542.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="445.5" y="537.4888">&lt;&lt; Thread-Wait &gt;&gt;</text><polygon fill="#A80036" points="86.5,582.8203,76.5,586.8203,86.5,590.8203,82.5,586.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="80.5" x2="844.5" y1="586.8203" y2="586.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="92.5" y="566.6216">server2client: exit_exam</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="92.5" y="581.7544">EXITEXAM</text><path d="M383,599.8203 L383,624.8203 L489,624.8203 L489,609.8203 L479,599.8203 L383,599.8203 " fill="#FBFB77" filter="url(#f3lv9j3abnlo2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M479,599.8203 L479,609.8203 L489,609.8203 L479,599.8203 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="389" y="616.8872">Datei senden</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="438.5" x2="480.5" y1="655.0859" y2="655.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="480.5" x2="480.5" y1="655.0859" y2="668.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="439.5" x2="480.5" y1="668.0859" y2="668.0859"/><polygon fill="#A80036" points="449.5,664.0859,439.5,668.0859,449.5,672.0859,445.5,668.0859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="445.5" y="650.02">ServerUI: _onSendFile()</text><polygon fill="#A80036" points="86.5,693.2188,76.5,697.2188,86.5,701.2188,82.5,697.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="80.5" x2="437.5" y1="697.2188" y2="697.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="92.5" y="692.1528">server_to_client.send_file()</text><polygon fill="#A80036" points="426.5,737.4844,436.5,741.4844,426.5,745.4844,430.5,741.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="432.5" y1="741.4844" y2="741.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="82.5" y="721.2856">examclient_plugin:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="339" x="82.5" y="736.4185">rawDataReceived[DataType.FILE]: Command.FILE_OK</text><path d="M383,754.4844 L383,779.4844 L489,779.4844 L489,764.4844 L479,754.4844 L383,754.4844 " fill="#FBFB77" filter="url(#f3lv9j3abnlo2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M479,754.4844 L479,764.4844 L489,764.4844 L479,754.4844 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="389" y="771.5513">Lock Screens</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="438.5" x2="480.5" y1="809.75" y2="809.75"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="480.5" x2="480.5" y1="809.75" y2="822.75"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="439.5" x2="480.5" y1="822.75" y2="822.75"/><polygon fill="#A80036" points="449.5,818.75,439.5,822.75,449.5,826.75,445.5,822.75" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="445.5" y="804.6841">ServerUI: _onScreenlock()</text><polygon fill="#A80036" points="86.5,847.8828,76.5,851.8828,86.5,855.8828,82.5,851.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="80.5" x2="437.5" y1="851.8828" y2="851.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="92.5" y="846.8169">server_to_client.lock_screens()</text><polygon fill="#A80036" points="426.5,892.1484,436.5,896.1484,426.5,900.1484,430.5,896.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="432.5" y1="896.1484" y2="896.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="82.5" y="875.9497">examclient_plugin:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="339" x="82.5" y="891.0825">rawDataReceived[DataType.FILE]: Command.FILE_OK</text><polygon fill="#A80036" points="828.5,936.4141,838.5,940.4141,828.5,944.4141,832.5,940.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="438.5" x2="834.5" y1="940.4141" y2="940.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="445.5" y="920.2153">&lt;&lt; Thread-Wait &gt;&gt; wait for all clients</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="317" x="445.5" y="935.3481">MyServerProtocol:rawDataReceived -&gt; fire Events</text><polygon fill="#A80036" points="449.5,965.5469,439.5,969.5469,449.5,973.5469,445.5,969.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="443.5" x2="844.5" y1="969.5469" y2="969.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="455.5" y="964.481">Repeat send lock_screen ???</text><path d="M23,982.5469 L23,1007.5469 L124,1007.5469 L124,992.5469 L114,982.5469 L23,982.5469 " fill="#FBFB77" filter="url(#f3lv9j3abnlo2)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M114,982.5469 L114,992.5469 L124,992.5469 L114,982.5469 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="29" y="999.6138">START EXAM</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="75.5" x2="117.5" y1="1037.8125" y2="1037.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="117.5" x2="117.5" y1="1037.8125" y2="1050.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="76.5" x2="117.5" y1="1050.8125" y2="1050.8125"/><polygon fill="#A80036" points="86.5,1046.8125,76.5,1050.8125,86.5,1054.8125,82.5,1050.8125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="82.5" y="1032.7466">rawDataReceived():_startExam()</text><!--MD5=[6a58cced25bd12083e1677f853b6bfb9]
@startuml
Client -> Server: Multicast Call
Server - -> Client: Multicast Response
note right: Awaiting Connection\nfrom Client
Client->Client: starts twisted daemon in background

group twisted daemon examclient_plugin runs on client
	Client -> Server: connectionMade(): AUTH
	note right: On every data received\ncheck AUTH from Client\nMyServerProtocol:lineReceived()
	Server -> Server: MyServerProtocol: rawDataReceived(DataType.SCREENSHOT)\nServerUI: createOrUpdateListItem()
	
	note over Server: EXIT EXAM
	Server -> Server: ServerUI: _on_exit_exam(who)
	Server -> Client: server2client: request_abgabe(who)\nFILETRANSFER:SEND
	
	Client -> Client: client2server: file_transfer_request(client)
	Client -> Server: examclient_plugin: _sendFile(filename, filetype)
	
	
	Server -> Thread: << Thread-Wait >>
	activate Thread
	
	Thread -> Client: server2client: exit_exam\nEXITEXAM
	deactivate Thread
	
	note over Server: Datei senden
	Server -> Server: ServerUI: _onSendFile()
	Server -> Client: server_to_client.send_file()
	Client -> Server: examclient_plugin:\nrawDataReceived[DataType.FILE]: Command.FILE_OK
	
	note over Server: Lock Screens
	Server -> Server: ServerUI: _onScreenlock()
	Server -> Client: server_to_client.lock_screens()
	Client -> Server: examclient_plugin:\nrawDataReceived[DataType.FILE]: Command.FILE_OK
	
	Server -> Thread: << Thread-Wait >> wait for all clients\nMyServerProtocol:rawDataReceived -> fire Events
	activate Thread  
	Thread -> Server: Repeat send lock_screen ???
	deactivate Thread
	
	note over Client: START EXAM
	Client -> Client: rawDataReceived():_startExam()
	
	
end

@enduml 

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.4+11-post-Ubuntu-1ubuntu218.04.3
Operating System: Linux
Default Encoding: UTF-8
Language: de
Country: AT
--></g></svg>